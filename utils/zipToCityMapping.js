// utils/zipToCityMapping.js - ZIP CODE TO CITY MAPPING SYSTEM

export const zipToCityMapping = {
  // CHICAGO (60000-60700)
  '60601': 'chicago', '60602': 'chicago', '60603': 'chicago', '60604': 'chicago',
  '60605': 'chicago', '60606': 'chicago', '60607': 'chicago', '60608': 'chicago',
  '60609': 'chicago', '60610': 'chicago', '60611': 'chicago', '60612': 'chicago',
  '60613': 'chicago', '60614': 'chicago', '60615': 'chicago', '60616': 'chicago',
  '60617': 'chicago', '60618': 'chicago', '60619': 'chicago', '60620': 'chicago',
  '60621': 'chicago', '60622': 'chicago', '60623': 'chicago', '60624': 'chicago',
  '60625': 'chicago', '60626': 'chicago', '60628': 'chicago', '60629': 'chicago',
  '60630': 'chicago', '60631': 'chicago', '60632': 'chicago', '60633': 'chicago',
  '60634': 'chicago', '60636': 'chicago', '60637': 'chicago', '60638': 'chicago',
  '60639': 'chicago', '60640': 'chicago', '60641': 'chicago', '60642': 'chicago',
  '60643': 'chicago', '60644': 'chicago', '60645': 'chicago', '60646': 'chicago',
  '60647': 'chicago', '60649': 'chicago', '60651': 'chicago', '60652': 'chicago',
  '60653': 'chicago', '60654': 'chicago', '60655': 'chicago', '60656': 'chicago',
  '60657': 'chicago', '60659': 'chicago', '60660': 'chicago', '60661': 'chicago',
  '60664': 'chicago', '60666': 'chicago', '60668': 'chicago', '60669': 'chicago',
  '60670': 'chicago', '60673': 'chicago', '60674': 'chicago', '60675': 'chicago',
  '60677': 'chicago', '60678': 'chicago', '60680': 'chicago', '60681': 'chicago',
  '60682': 'chicago', '60684': 'chicago', '60685': 'chicago', '60686': 'chicago',
  '60687': 'chicago', '60688': 'chicago', '60689': 'chicago', '60690': 'chicago',
  '60691': 'chicago', '60693': 'chicago', '60694': 'chicago', '60695': 'chicago',
  '60696': 'chicago', '60697': 'chicago', '60699': 'chicago',

  // HOUSTON (77000-77500)
  '77001': 'houston', '77002': 'houston', '77003': 'houston', '77004': 'houston',
  '77005': 'houston', '77006': 'houston', '77007': 'houston', '77008': 'houston',
  '77009': 'houston', '77010': 'houston', '77011': 'houston', '77012': 'houston',
  '77013': 'houston', '77014': 'houston', '77015': 'houston', '77016': 'houston',
  '77017': 'houston', '77018': 'houston', '77019': 'houston', '77020': 'houston',
  '77021': 'houston', '77022': 'houston', '77023': 'houston', '77024': 'houston',
  '77025': 'houston', '77026': 'houston', '77027': 'houston', '77028': 'houston',
  '77029': 'houston', '77030': 'houston', '77031': 'houston', '77032': 'houston',
  '77033': 'houston', '77034': 'houston', '77035': 'houston', '77036': 'houston',
  '77037': 'houston', '77038': 'houston', '77039': 'houston', '77040': 'houston',
  '77041': 'houston', '77042': 'houston', '77043': 'houston', '77044': 'houston',
  '77045': 'houston', '77046': 'houston', '77047': 'houston', '77048': 'houston',
  '77049': 'houston', '77050': 'houston', '77051': 'houston', '77052': 'houston',
  '77053': 'houston', '77054': 'houston', '77055': 'houston', '77056': 'houston',
  '77057': 'houston', '77058': 'houston', '77059': 'houston', '77060': 'houston',
  '77061': 'houston', '77062': 'houston', '77063': 'houston', '77064': 'houston',
  '77065': 'houston', '77066': 'houston', '77067': 'houston', '77068': 'houston',
  '77069': 'houston', '77070': 'houston', '77071': 'houston', '77072': 'houston',
  '77073': 'houston', '77074': 'houston', '77075': 'houston', '77076': 'houston',
  '77077': 'houston', '77078': 'houston', '77079': 'houston', '77080': 'houston',
  '77081': 'houston', '77082': 'houston', '77083': 'houston', '77084': 'houston',
  '77085': 'houston', '77086': 'houston', '77087': 'houston', '77088': 'houston',
  '77089': 'houston', '77090': 'houston', '77091': 'houston', '77092': 'houston',
  '77093': 'houston', '77094': 'houston', '77095': 'houston', '77096': 'houston',
  '77098': 'houston', '77099': 'houston',

  // NEW YORK CITY (10000-10400 + 11000-11700)
  '10001': 'new-york', '10002': 'new-york', '10003': 'new-york', '10004': 'new-york',
  '10005': 'new-york', '10006': 'new-york', '10007': 'new-york', '10008': 'new-york',
  '10009': 'new-york', '10010': 'new-york', '10011': 'new-york', '10012': 'new-york',
  '10013': 'new-york', '10014': 'new-york', '10015': 'new-york', '10016': 'new-york',
  '10017': 'new-york', '10018': 'new-york', '10019': 'new-york', '10020': 'new-york',
  '10021': 'new-york', '10022': 'new-york', '10023': 'new-york', '10024': 'new-york',
  '10025': 'new-york', '10026': 'new-york', '10027': 'new-york', '10028': 'new-york',
  '10029': 'new-york', '10030': 'new-york', '10031': 'new-york', '10032': 'new-york',
  '10033': 'new-york', '10034': 'new-york', '10035': 'new-york', '10036': 'new-york',
  '10037': 'new-york', '10038': 'new-york', '10039': 'new-york', '10040': 'new-york',
  '10044': 'new-york', '10065': 'new-york', '10075': 'new-york', '10128': 'new-york',
  '10162': 'new-york', '10280': 'new-york', '10282': 'new-york',
  // Brooklyn
  '11201': 'new-york', '11202': 'new-york', '11203': 'new-york', '11204': 'new-york',
  '11205': 'new-york', '11206': 'new-york', '11207': 'new-york', '11208': 'new-york',
  '11209': 'new-york', '11210': 'new-york', '11211': 'new-york', '11212': 'new-york',
  '11213': 'new-york', '11214': 'new-york', '11215': 'new-york', '11216': 'new-york',
  '11217': 'new-york', '11218': 'new-york', '11219': 'new-york', '11220': 'new-york',
  '11221': 'new-york', '11222': 'new-york', '11223': 'new-york', '11224': 'new-york',
  '11225': 'new-york', '11226': 'new-york', '11228': 'new-york', '11229': 'new-york',
  '11230': 'new-york', '11231': 'new-york', '11232': 'new-york', '11233': 'new-york',
  '11234': 'new-york', '11235': 'new-york', '11236': 'new-york', '11237': 'new-york',
  '11238': 'new-york', '11239': 'new-york', '11241': 'new-york', '11242': 'new-york',
  '11243': 'new-york', '11244': 'new-york', '11245': 'new-york', '11247': 'new-york',
  '11249': 'new-york', '11251': 'new-york', '11252': 'new-york', '11256': 'new-york',
  // Queens  
  '11101': 'new-york', '11102': 'new-york', '11103': 'new-york', '11104': 'new-york',
  '11105': 'new-york', '11106': 'new-york', '11109': 'new-york', '11354': 'new-york',
  '11355': 'new-york', '11356': 'new-york', '11357': 'new-york', '11358': 'new-york',
  '11360': 'new-york', '11361': 'new-york', '11362': 'new-york', '11363': 'new-york',
  '11364': 'new-york', '11365': 'new-york', '11366': 'new-york', '11367': 'new-york',
  '11368': 'new-york', '11369': 'new-york', '11370': 'new-york', '11372': 'new-york',
  '11373': 'new-york', '11374': 'new-york', '11375': 'new-york', '11377': 'new-york',
  '11378': 'new-york', '11379': 'new-york', '11385': 'new-york', '11411': 'new-york',
  '11412': 'new-york', '11413': 'new-york', '11414': 'new-york', '11415': 'new-york',
  '11416': 'new-york', '11417': 'new-york', '11418': 'new-york', '11419': 'new-york',
  '11420': 'new-york', '11421': 'new-york', '11422': 'new-york', '11423': 'new-york',
  '11426': 'new-york', '11427': 'new-york', '11428': 'new-york', '11429': 'new-york',
  // Bronx
  '10451': 'new-york', '10452': 'new-york', '10453': 'new-york', '10454': 'new-york',
  '10455': 'new-york', '10456': 'new-york', '10457': 'new-york', '10458': 'new-york',
  '10459': 'new-york', '10460': 'new-york', '10461': 'new-york', '10462': 'new-york',
  '10463': 'new-york', '10464': 'new-york', '10465': 'new-york', '10466': 'new-york',
  '10467': 'new-york', '10468': 'new-york', '10469': 'new-york', '10470': 'new-york',
  '10471': 'new-york', '10472': 'new-york', '10473': 'new-york', '10474': 'new-york',
  '10475': 'new-york',

  // LOS ANGELES (90000-90800)  
  '90001': 'los-angeles', '90002': 'los-angeles', '90003': 'los-angeles', '90004': 'los-angeles',
  '90005': 'los-angeles', '90006': 'los-angeles', '90007': 'los-angeles', '90008': 'los-angeles',
  '90010': 'los-angeles', '90011': 'los-angeles', '90012': 'los-angeles', '90013': 'los-angeles',
  '90014': 'los-angeles', '90015': 'los-angeles', '90016': 'los-angeles', '90017': 'los-angeles',
  '90018': 'los-angeles', '90019': 'los-angeles', '90020': 'los-angeles', '90021': 'los-angeles',
  '90022': 'los-angeles', '90023': 'los-angeles', '90024': 'los-angeles', '90025': 'los-angeles',
  '90026': 'los-angeles', '90027': 'los-angeles', '90028': 'los-angeles', '90029': 'los-angeles',
  '90031': 'los-angeles', '90032': 'los-angeles', '90033': 'los-angeles', '90034': 'los-angeles',
  '90035': 'los-angeles', '90036': 'los-angeles', '90037': 'los-angeles', '90038': 'los-angeles',
  '90039': 'los-angeles', '90040': 'los-angeles', '90041': 'los-angeles', '90042': 'los-angeles',
  '90043': 'los-angeles', '90044': 'los-angeles', '90045': 'los-angeles', '90046': 'los-angeles',
  '90047': 'los-angeles', '90048': 'los-angeles', '90049': 'los-angeles', '90056': 'los-angeles',
  '90057': 'los-angeles', '90058': 'los-angeles', '90059': 'los-angeles', '90061': 'los-angeles',
  '90062': 'los-angeles', '90063': 'los-angeles', '90064': 'los-angeles', '90065': 'los-angeles',
  '90066': 'los-angeles', '90067': 'los-angeles', '90068': 'los-angeles', '90069': 'los-angeles',
  '90071': 'los-angeles', '90077': 'los-angeles', '90089': 'los-angeles', '90094': 'los-angeles',
  '90095': 'los-angeles', '90210': 'los-angeles', '90211': 'los-angeles', '90212': 'los-angeles',
  '90230': 'los-angeles', '90232': 'los-angeles', '90247': 'los-angeles', '90248': 'los-angeles',
  '90272': 'los-angeles', '90290': 'los-angeles', '90291': 'los-angeles', '90292': 'los-angeles',
  '90293': 'los-angeles', '90401': 'los-angeles', '90402': 'los-angeles', '90403': 'los-angeles',
  '90404': 'los-angeles', '90405': 'los-angeles', '90501': 'los-angeles', '90502': 'los-angeles',

  // PHOENIX (85000-85400)
  '85001': 'phoenix', '85002': 'phoenix', '85003': 'phoenix', '85004': 'phoenix',
  '85005': 'phoenix', '85006': 'phoenix', '85007': 'phoenix', '85008': 'phoenix',
  '85009': 'phoenix', '85010': 'phoenix', '85011': 'phoenix', '85012': 'phoenix',
  '85013': 'phoenix', '85014': 'phoenix', '85015': 'phoenix', '85016': 'phoenix',
  '85017': 'phoenix', '85018': 'phoenix', '85019': 'phoenix', '85020': 'phoenix',
  '85021': 'phoenix', '85022': 'phoenix', '85023': 'phoenix', '85024': 'phoenix',
  '85025': 'phoenix', '85026': 'phoenix', '85027': 'phoenix', '85028': 'phoenix',
  '85029': 'phoenix', '85030': 'phoenix', '85031': 'phoenix', '85032': 'phoenix',
  '85033': 'phoenix', '85034': 'phoenix', '85035': 'phoenix', '85036': 'phoenix',
  '85037': 'phoenix', '85038': 'phoenix', '85039': 'phoenix', '85040': 'phoenix',
  '85041': 'phoenix', '85042': 'phoenix', '85043': 'phoenix', '85044': 'phoenix',
  '85045': 'phoenix', '85046': 'phoenix', '85048': 'phoenix', '85050': 'phoenix',
  '85051': 'phoenix', '85053': 'phoenix', '85054': 'phoenix', '85083': 'phoenix',
  '85085': 'phoenix', '85086': 'phoenix', '85087': 'phoenix', '85295': 'phoenix',

  // PHILADELPHIA (19100-19200)
  '19101': 'philadelphia', '19102': 'philadelphia', '19103': 'philadelphia', '19104': 'philadelphia',
  '19105': 'philadelphia', '19106': 'philadelphia', '19107': 'philadelphia', '19108': 'philadelphia',
  '19109': 'philadelphia', '19110': 'philadelphia', '19111': 'philadelphia', '19112': 'philadelphia',
  '19113': 'philadelphia', '19114': 'philadelphia', '19115': 'philadelphia', '19116': 'philadelphia',
  '19118': 'philadelphia', '19119': 'philadelphia', '19120': 'philadelphia', '19121': 'philadelphia',
  '19122': 'philadelphia', '19123': 'philadelphia', '19124': 'philadelphia', '19125': 'philadelphia',
  '19126': 'philadelphia', '19127': 'philadelphia', '19128': 'philadelphia', '19129': 'philadelphia',
  '19130': 'philadelphia', '19131': 'philadelphia', '19132': 'philadelphia', '19133': 'philadelphia',
  '19134': 'philadelphia', '19135': 'philadelphia', '19136': 'philadelphia', '19137': 'philadelphia',
  '19138': 'philadelphia', '19139': 'philadelphia', '19140': 'philadelphia', '19141': 'philadelphia',
  '19142': 'philadelphia', '19143': 'philadelphia', '19144': 'philadelphia', '19145': 'philadelphia',
  '19146': 'philadelphia', '19147': 'philadelphia', '19148': 'philadelphia', '19149': 'philadelphia',
  '19150': 'philadelphia', '19151': 'philadelphia', '19152': 'philadelphia', '19153': 'philadelphia',
  '19154': 'philadelphia', '19155': 'philadelphia', '19160': 'philadelphia', '19161': 'philadelphia',
  '19162': 'philadelphia', '19170': 'philadelphia', '19171': 'philadelphia', '19172': 'philadelphia',
  '19173': 'philadelphia', '19175': 'philadelphia', '19176': 'philadelphia', '19177': 'philadelphia',
  '19178': 'philadelphia', '19179': 'philadelphia', '19181': 'philadelphia', '19182': 'philadelphia',
  '19183': 'philadelphia', '19184': 'philadelphia', '19185': 'philadelphia', '19187': 'philadelphia',
  '19188': 'philadelphia', '19191': 'philadelphia', '19192': 'philadelphia', '19193': 'philadelphia',
  '19194': 'philadelphia', '19195': 'philadelphia', '19196': 'philadelphia',

  // SAN ANTONIO (78200-78300)
  '78201': 'san-antonio', '78202': 'san-antonio', '78203': 'san-antonio', '78204': 'san-antonio',
  '78205': 'san-antonio', '78206': 'san-antonio', '78207': 'san-antonio', '78208': 'san-antonio',
  '78209': 'san-antonio', '78210': 'san-antonio', '78211': 'san-antonio', '78212': 'san-antonio',
  '78213': 'san-antonio', '78214': 'san-antonio', '78215': 'san-antonio', '78216': 'san-antonio',
  '78217': 'san-antonio', '78218': 'san-antonio', '78219': 'san-antonio', '78220': 'san-antonio',
  '78221': 'san-antonio', '78222': 'san-antonio', '78223': 'san-antonio', '78224': 'san-antonio',
  '78225': 'san-antonio', '78226': 'san-antonio', '78227': 'san-antonio', '78228': 'san-antonio',
  '78229': 'san-antonio', '78230': 'san-antonio', '78231': 'san-antonio', '78232': 'san-antonio',
  '78233': 'san-antonio', '78234': 'san-antonio', '78235': 'san-antonio', '78236': 'san-antonio',
  '78237': 'san-antonio', '78238': 'san-antonio', '78239': 'san-antonio', '78240': 'san-antonio',
  '78242': 'san-antonio', '78244': 'san-antonio', '78245': 'san-antonio', '78247': 'san-antonio',
  '78248': 'san-antonio', '78249': 'san-antonio', '78250': 'san-antonio', '78251': 'san-antonio',
  '78252': 'san-antonio', '78253': 'san-antonio', '78254': 'san-antonio', '78255': 'san-antonio',
  '78256': 'san-antonio', '78257': 'san-antonio', '78258': 'san-antonio', '78259': 'san-antonio',
  '78260': 'san-antonio', '78261': 'san-antonio', '78263': 'san-antonio', '78264': 'san-antonio',
  '78265': 'san-antonio', '78266': 'san-antonio', '78268': 'san-antonio', '78269': 'san-antonio',

  // SAN DIEGO (92000-92200)
  '92101': 'san-diego', '92102': 'san-diego', '92103': 'san-diego', '92104': 'san-diego',
  '92105': 'san-diego', '92106': 'san-diego', '92107': 'san-diego', '92108': 'san-diego',
  '92109': 'san-diego', '92110': 'san-diego', '92111': 'san-diego', '92112': 'san-diego',
  '92113': 'san-diego', '92114': 'san-diego', '92115': 'san-diego', '92116': 'san-diego',
  '92117': 'san-diego', '92118': 'san-diego', '92119': 'san-diego', '92120': 'san-diego',
  '92121': 'san-diego', '92122': 'san-diego', '92123': 'san-diego', '92124': 'san-diego',
  '92126': 'san-diego', '92127': 'san-diego', '92128': 'san-diego', '92129': 'san-diego',
  '92130': 'san-diego', '92131': 'san-diego', '92132': 'san-diego', '92134': 'san-diego',
  '92135': 'san-diego', '92136': 'san-diego', '92137': 'san-diego', '92138': 'san-diego',
  '92139': 'san-diego', '92140': 'san-diego', '92142': 'san-diego', '92145': 'san-diego',
  '92147': 'san-diego', '92149': 'san-diego', '92150': 'san-diego', '92152': 'san-diego',
  '92153': 'san-diego', '92154': 'san-diego', '92155': 'san-diego', '92158': 'san-diego',
  '92159': 'san-diego', '92160': 'san-diego', '92161': 'san-diego', '92162': 'san-diego',
  '92163': 'san-diego', '92164': 'san-diego', '92165': 'san-diego', '92166': 'san-diego',
  '92167': 'san-diego', '92168': 'san-diego', '92169': 'san-diego', '92170': 'san-diego',
  '92171': 'san-diego', '92172': 'san-diego', '92173': 'san-diego', '92174': 'san-diego',
  '92175': 'san-diego', '92176': 'san-diego', '92177': 'san-diego', '92178': 'san-diego',
  '92179': 'san-diego', '92182': 'san-diego', '92186': 'san-diego', '92187': 'san-diego',
  '92190': 'san-diego', '92191': 'san-diego', '92192': 'san-diego', '92193': 'san-diego',
  '92194': 'san-diego', '92195': 'san-diego', '92196': 'san-diego', '92197': 'san-diego',
  '92198': 'san-diego', '92199': 'san-diego',

  // DALLAS (75000-75400)
  '75201': 'dallas', '75202': 'dallas', '75203': 'dallas', '75204': 'dallas',
  '75205': 'dallas', '75206': 'dallas', '75207': 'dallas', '75208': 'dallas',
  '75209': 'dallas', '75210': 'dallas', '75211': 'dallas', '75212': 'dallas',
  '75214': 'dallas', '75215': 'dallas', '75216': 'dallas', '75217': 'dallas',
  '75218': 'dallas', '75219': 'dallas', '75220': 'dallas', '75221': 'dallas',
  '75222': 'dallas', '75223': 'dallas', '75224': 'dallas', '75225': 'dallas',
  '75226': 'dallas', '75227': 'dallas', '75228': 'dallas', '75229': 'dallas',
  '75230': 'dallas', '75231': 'dallas', '75232': 'dallas', '75233': 'dallas',
  '75234': 'dallas', '75235': 'dallas', '75236': 'dallas', '75237': 'dallas',
  '75238': 'dallas', '75240': 'dallas', '75241': 'dallas', '75243': 'dallas',
  '75244': 'dallas', '75246': 'dallas', '75247': 'dallas', '75248': 'dallas',
  '75249': 'dallas', '75250': 'dallas', '75251': 'dallas', '75252': 'dallas',
  '75253': 'dallas', '75254': 'dallas', '75390': 'dallas', '75391': 'dallas',
  '75392': 'dallas', '75393': 'dallas', '75394': 'dallas', '75395': 'dallas',
  '75396': 'dallas', '75397': 'dallas', '75398': 'dallas',

  // Add more cities as needed... MIAMI, ATLANTA, SEATTLE, DENVER, ETC.
};

// City display names and URL mapping
export const cityInfo = {
  'chicago': {
    name: 'Chicago',
    state: 'IL',
    slug: 'chicago'
  },
  'houston': {
    name: 'Houston', 
    state: 'TX',
    slug: 'houston'
  },
  'new-york': {
    name: 'New York',
    state: 'NY', 
    slug: 'new-york'
  },
  'los-angeles': {
    name: 'Los Angeles',
    state: 'CA',
    slug: 'los-angeles'  
  },
  'phoenix': {
    name: 'Phoenix',
    state: 'AZ',
    slug: 'phoenix'
  },
  'philadelphia': {
    name: 'Philadelphia',
    state: 'PA', 
    slug: 'philadelphia'
  },
  'san-antonio': {
    name: 'San Antonio',
    state: 'TX',
    slug: 'san-antonio'
  },
  'san-diego': {
    name: 'San Diego',
    state: 'CA',
    slug: 'san-diego'  
  },
  'dallas': {
    name: 'Dallas',
    state: 'TX',
    slug: 'dallas'
  },
  // Add more cities as needed
};

// MAIN FUNCTIONS
export function getCityFromZip(zipCode) {
  const cleanZip = zipCode?.toString().trim();
  
  if (!cleanZip || cleanZip.length !== 5) {
    return null;
  }
  
  const citySlug = zipToCityMapping[cleanZip];
  return citySlug ? cityInfo[citySlug] : null;
}

export function getLocalContent(zipCode) {
  const city = getCityFromZip(zipCode);
  
  if (!city) {
    return {
      hasLocalContent: false,
      city: { name: 'Your Area', state: '', slug: 'your-area' },
      localGuides: [],
      permitGuides: []
    };
  }

  return {
    hasLocalContent: true,
    city,
    localGuides: [
      {
        title: `Dumpster Rental ${city.name}`,
        description: `Local pricing, neighborhoods served, and trusted providers in ${city.name}, ${city.state}`,
        url: `/dumpster-rental-${city.slug}`,
        category: 'Local Pricing & Providers',
        readTime: '5 min read'
      }
    ],
    permitGuides: [
      {
        title: `${city.name} Dumpster Permit Guide`,
        description: `Complete permit requirements, costs, and application process for ${city.name}, ${city.state}`,
        url: `/blog/${city.slug}-dumpster-permit-guide`,
        category: 'Permits & Regulations', 
        readTime: '8 min read'
      }
    ]
  };
}

// VALIDATION FUNCTION  
export function isValidZip(zipCode) {
  const cleanZip = zipCode?.toString().trim();
  return /^\d{5}$/.test(cleanZip);
}